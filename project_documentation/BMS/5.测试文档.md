# 测试文档

> **学院：省级示范性软件学院**
>
> **课程：JavaWeb**
>
> **姓名：唐玉亮**
>
> **学号：2100230021**
>
> **班级：软工2202**
>
> **日期：2024-11-23**

## 1. 概述

本测试文档旨在为图书管理系统的各项功能提供详细的测试方案，确保系统在功能性、性能、可靠性和用户体验等方面满足预期。测试包括单元测试、集成测试、系统测试及验收测试。

## 2. 测试范围

图书管理系统主要包括以下功能模块：

1. 用户注册（读者、图书管理员）
2. 用户登录和注销
3. 个人信息管理
4. 图书信息管理（CRUD 操作）
5. 图书分类和标签系统
6. 图书搜索功能（按标题、作者、ISBN 等）
7. 读者留言板
8. 系统公告管理

## 3. 测试类型

- **功能测试**：验证各模块功能是否按照需求正常运作。
- **界面测试**：验证系统界面是否符合用户友好性要求，交互设计是否合理。
- **性能测试**：包括系统响应时间、并发用户数等性能指标的测试。
- **安全性测试**：确保系统安全性，包括权限控制、密码加密、未授权访问防护等。
- **兼容性测试**：验证系统在不同浏览器的兼容性。

## 4. 测试环境

- **操作系统**：Windows 11
- **浏览器**：Google Chrome、Microsoft Edge
- **数据库**：MySQL 8.0.28
- **服务器环境**：Java Spring Boot 3.0.3
- **工具**：Apifox

## 5. 测试用例

### 5.1 单元测试

#### 5.1.1 用户模块

- **测试目标**：验证用户注册、登录、注销功能的正确性

- 测试用例：

  - 用户注册功能：

    - 输入正确的用户信息，检查是否成功注册。

    <img src="./assets/image-20241128135728312.png" alt="image-20241128135728312" style="zoom: 33%;" />

    - 输入重复的用户名，检查是否提示错误。

    <img src="./assets/image-20241128135647286.png" alt="image-20241128135647286" style="zoom: 33%;" />

  - 用户登录功能：

    - 输入正确的用户名和密码，检查是否能成功登录。

    <img src="./assets/image-20241128140059299.png" alt="image-20241128140059299" style="zoom:33%;" />

    - 输入错误的用户名或密码，检查是否提示错误。

    <img src="./assets/image-20241128140127706.png" alt="image-20241128140127706" style="zoom:33%;" />

  - 用户注销功能：

    - 登录后点击注销按钮，检查是否成功退出系统。

    <img src="./assets/image-20241128140435665.png" alt="image-20241128140435665" style="zoom:33%;" />

#### 5.1.2 个人信息模块

- **测试目标**：验证用户个人信息管理功能的正确性。

- 测试用例：

  - 查看个人信息：

    - 登录用户后，验证系统是否能正确显示用户的个人信息（用户名、昵称、邮箱、头像等）。
    - 断言返回的数据与数据库中存储的用户信息一致。

  - 修改个人信息：

    - 修改昵称和邮箱：

      - 修改昵称和邮箱并保存，验证数据库中用户信息是否更新。

      <img src="./assets/image-20241128140753137.png" alt="image-20241128140753137" style="zoom:33%;" />

      - 修改为空的昵称，检查系统是否提示“昵称不能为空”。

      <img src="./assets/image-20241128140829254.png" alt="image-20241128140829254" style="zoom:33%;" />

      - 使用无效邮箱格式（如“test.com”），检查是否提示“邮箱格式不正确”。

      <img src="./assets/image-20241128140900811.png" alt="image-20241128140900811" style="zoom:33%;" />

    - 修改密码：

      - 修改密码并保存，验证数据库中密码是否更新。

      <img src="./assets/image-20241128141538175.png" alt="image-20241128141538175" style="zoom:33%;" />

      - 输入错误旧密码，检查是否提示旧密码不正确。

      <img src="./assets/image-20241128141716316.png" alt="image-20241128141716316" style="zoom:33%;" />

      - 当输入的新密码与确认密码不一致时，检查是否提示密码不一致。

      <img src="./assets/image-20241128141745428.png" alt="image-20241128141745428" style="zoom:33%;" />

      

    - 修改头像：

      - 上传新头像并保存，检查头像是否正确显示。

      <img src="./assets/image-20241128141846325.png" alt="image-20241128141846325" style="zoom:33%;" />

#### 5.1.3 图书分类与标签模块

- **测试目标**：验证图书分类与标签的管理功能。

- 测试用例：

  - 分类管理：

    - 新增分类：

      - 输入有效的分类名称并保存，检查是否成功添加分类并在分类列表中显示。

      <img src="./assets/image-20241128142645373.png" alt="image-20241128142645373" style="zoom:33%;" />

      - 输入重复分类名称，检查是否提示“分类已存在”。

      <img src="./assets/image-20241128142501054.png" alt="image-20241128142501054" style="zoom:33%;" />

    - 修改分类：

      - 修改已有分类的名称并保存，验证分类是否正确更新。

      <img src="./assets/image-20241128142855082.png" alt="image-20241128142855082" style="zoom:33%;" />

      

    - 删除分类：

      - 删除一个空的分类，检查是否成功删除。

      <img src="./assets/image-20241128142610581.png" alt="image-20241128142610581" style="zoom:33%;" />

    - 获取所有分类：

      - 是否能获取所有分类。

      <img src="./assets/image-20241128142302553.png" alt="image-20241128142302553" style="zoom:33%;" />

  - 标签管理：

    - 获取所有：

      - 检查是否能获取所有标签：

      <img src="./assets/image-20241128143219234.png" alt="image-20241128143219234" style="zoom:33%;" />

    - 新增标签：

      - 输入有效标签名称并保存，检查是否成功添加标签。

      <img src="./assets/image-20241128143305759.png" alt="image-20241128143305759" style="zoom:33%;" />

      - 输入重复标签名称，检查是否提示“标签已存在”。

      <img src="./assets/image-20241128143328950.png" alt="image-20241128143328950" style="zoom:33%;" />

    - 修改标签：

      - 修改已有标签名称并保存，验证标签是否正确更新。

      <img src="./assets/image-20241128143715487.png" alt="image-20241128143715487" style="zoom:33%;" />

    - 删除标签：

      - 删除一个未被任何图书使用的标签，检查是否成功删除。

      <img src="./assets/image-20241128143831373.png" alt="image-20241128143831373" style="zoom:33%;" />

#### 5.1.4 图书管理模块

- **测试目标**：验证图书信息的增删改查功能

- 测试用例：

  - 添加图书：

    - 输入有效的图书信息，检查是否成功添加。

    <img src="./assets/image-20241128144050936.png" alt="image-20241128144050936" style="zoom:33%;" />

    

  - 修改图书信息：

    - 修改图书信息，检查是否成功更新。

    <img src="./assets/image-20241128144206816.png" alt="image-20241128144206816" style="zoom:33%;" />

  - 删除图书：

    - 删除图书，检查是否从列表中移除。

    <img src="./assets/image-20241128144552100.png" alt="image-20241128144552100" style="zoom:33%;" />

  - 查询图书分类信息：

    - 根据图书id查看图书分类信息。

    <img src="./assets/image-20241128145242118.png" alt="image-20241128145242118" style="zoom:33%;" />

  - 为图书添加标签：

    - 根据图书名和标签名，为图书添加指定的标签。如果标签不存在，则创建该标签并进行关联。

    <img src="./assets/image-20241128145833273.png" alt="image-20241128145833273" style="zoom:33%;" />

  - 查询图书标签信息：

    - 根据图书名获取图书的所有标签

    <img src="./assets/image-20241128145145413.png" alt="image-20241128145145413" style="zoom:33%;" />

#### 5.1.5 图书搜索模块

- **测试目标**：验证图书搜索功能是否按不同条件（标题、作者、ISBN等）正常工作。

- 测试用例：

  - 按书名搜索：

    - 输入有效书名进行搜索，验证是否返回匹配的图书信息。

    <img src="./assets/image-20241128150416904.png" alt="image-20241128150416904" style="zoom:33%;" />

    - 输入部分书名进行模糊搜索，检查是否能返回所有相关图书。

    <img src="./assets/image-20241128150353685.png" alt="image-20241128150353685" style="zoom:33%;" />

  - 按作者搜索：

    - 输入有效作者名进行搜索，验证是否返回相关图书。

    <img src="./assets/image-20241128150258173.png" alt="image-20241128150258173" style="zoom:33%;" />

    - 输入部分作者名进行模糊搜索，验证是否返回相关图书。

    <img src="./assets/image-20241128150146317.png" alt="image-20241128150146317" style="zoom:33%;" />

    

  - 按ISBN搜索：

    - 输入有效的ISBN进行搜索，检查是否能准确找到对应图书。

    <img src="./assets/image-20241128150452374.png" alt="image-20241128150452374" style="zoom:33%;" />

    

  - 组合搜索：

    - 按组合条件进行筛选，验证是否只返回符合条件的图书。

    <img src="./assets/image-20241128144804850.png" alt="image-20241128144804850" style="zoom:33%;" />

#### 5.1.6 留言板模块

- **测试目标**：验证留言和回复功能的正确性

- 测试用例：

  - 发布留言：

    - 输入有效的留言内容，检查是否成功发布。

    <img src="./assets/image-20241128152351152.png" alt="image-20241128152351152" style="zoom:33%;" />

    - 输入空留言，检查是否提示错误。

    <img src="./assets/image-20241128152416194.png" alt="image-20241128152416194" style="zoom:33%;" />

  - 回复留言：

    - 回复已有留言，检查是否成功显示在父留言下。

    <img src="./assets/image-20241128152545009.png" alt="image-20241128152545009" style="zoom: 33%;" />

  - 删除留言：

    - 删除自己的留言，检查是否成功删除。

    <img src="./assets/image-20241128152622414.png" alt="image-20241128152622414" style="zoom:33%;" />

    - 删除他人留言，检查是否提示权限不足。

    <img src="./assets/image-20241128152647227.png" alt="image-20241128152647227" style="zoom:33%;" />

  - 嵌套获取留言：

    - 查看所有留言列表。

    <img src="./assets/image-20241128152323567.png" alt="image-20241128152323567" style="zoom:33%;" />

#### 5.1.7 系统公告模块

- **测试目标**：验证系统公告管理功能的正确性。

- 测试用例：

  - 发布公告：
    - 输入有效公告标题和内容并发布，验证公告是否成功显示在公告列表中。

  <img src="./assets/image-20241128151849037.png" alt="image-20241128151849037" style="zoom:33%;" />

  - 输入空公告标题，检查是否提示“标题不能为空”。

  <img src="./assets/image-20241128151917436.png" alt="image-20241128151917436" style="zoom:33%;" />

  - 输入公告内容为空时，检查是否提示“内容不能为空”。

  <img src="./assets/image-20241128151942072.png" alt="image-20241128151942072" style="zoom:33%;" />

  - 修改公告：

    - 修改已有公告的标题和内容并保存，检查公告是否成功更新。

    <img src="./assets/image-20241128152040938.png" alt="image-20241128152040938" style="zoom:33%;" />

  - 删除公告：

    - 删除公告，检查是否从公告列表中移除。

    <img src="./assets/image-20241128152125875.png" alt="image-20241128152125875" style="zoom:33%;" />

    

### 5.2 集成测试

#### 5.2.1 用户管理与图书管理模块集成

- **测试目标**：验证用户和图书管理模块之间的交互

- 测试用例：

  - 注册一个新用户后，登录系统并添加一条图书记录，检查是否能正常查看并管理图书。
  - 注册并登录管理员后，检查是否能够访问图书管理和用户管理功能。

  <img src="./assets/image-20241128152919674.png" alt="image-20241128152919674" style="zoom: 25%;" />

#### 5.2.2 图书管理与分类标签模块集成

- **测试目标**：验证图书管理和分类标签模块的集成

- 测试用例：

  - 添加一条图书记录并为其分配分类和标签，检查图书是否能按照分类和标签进行查询。
  - 修改图书的分类或标签，检查更新后的图书是否能正确显示。

  <img src="./assets/image-20241128152957775.png" alt="image-20241128152957775" style="zoom: 33%;" />

#### 5.2.3 留言板与用户模块集成

- **测试目标**：验证留言板和用户模块之间的交互

- 测试用例：

  - 用户登录后发布留言，检查是否与该用户关联，且管理员能正常查看和删除留言。
  - 用户删除自己的留言后，检查该留言是否从系统中删除。

  <img src="./assets/image-20241128153030479.png" alt="image-20241128153030479" style="zoom: 33%;" />

### 5.3 系统测试

#### 5.3.1 用户注册与登录测试

| 用例编号 | 操作描述                                  | 数据                               | 预期结果                         | 实际结果     |
| -------- | ----------------------------------------- | ---------------------------------- | -------------------------------- | ------------ |
| 001      | 进入注册界面 填写用户名 填写密码 提交注册 | 用户名：tangyuliang1密码：123456   | 注册成功，提示用户成功注册       | 达到期望结果 |
| 002      | 进入注册界面 填写用户名 填写密码 提交注册 | 用户名：空 密码：666666            | 注册失败，提示用户输入用户名     | 达到期望结果 |
| 003      | 进入注册界面 填写用户名 填写密码 提交注册 | 用户名：tangyuliang1 密码：空      | 注册失败，提示用户输入密码       | 达到期望结果 |
| 004      | 进入注册界面 填写用户名 填写密码 提交注册 | 用户名：tangyuliang1密码：666666   | 注册失败，提示用户用户名已经注册 | 达到期望结果 |
| 005      | 进入登录界面 填写用户名 填写密码 提交登录 | 用户名：tangyuliang1 密码：123456  | 注册成功，提示成功信息           | 达到预期结果 |
| 006      | 进入登录界面 填写用户名                   | 用户名：空 密码：123456            | 登录失败，提示用户输入用户名     | 达到预期结果 |
| 007      | 进入登录界面 填写用户名 填写密码 提交登录 | 用户名：tangyuliang1 密码：空      | 登录失败，提示用户输入密码       | 达到预期结果 |
| 008      | 进入登录界面 填写用户名 填写密码 提交登录 | 用户名：tangyuliang11 密码：123456 | 登录失败，提示用户不存在         | 达到预期结果 |
| 009      | 用户注销                                  | 用户点击退出登录按钮               | 用户成功退出登录，回到登录页面   | 达到预期结果 |

<img src="./assets/image-20241127200044583.png" alt="image-20241127200044583" style="zoom: 25%;" /><img src="./assets/image-20241127200149221.png" alt="image-20241127200149221" style="zoom: 25%;" /><img src="./assets/image-20241127200539418.png" alt="image-20241127200539418" style="zoom:50%;" />

#### 5.3.2 用户信息管理测试

| 用例编号 | 操作描述                                              | 数据                                                         | 预期结果                         | 实际结果     |
| -------- | ----------------------------------------------------- | ------------------------------------------------------------ | -------------------------------- | ------------ |
| 001      | 进入个人中心界面 基本资料 更改用户昵称和邮箱 提交修改 | <img src="./assets/image-20241127200709020.png" style="zoom:33%;" /> | 修改成功                         | 达到期望结果 |
| 002      | 进入个人中心界面 更换头像 更改用户头像 提交修改       | <img src="./assets/image-20241127201013845.png" style="zoom:33%;" /> | 修改成功                         | 达到期望结果 |
| 003      | 进入个人中心界面 重置密码 更改用户密码 提交修改       | <img src="./assets/image-20241127201107603.png" style="zoom:33%;" /> | 修改成功                         | 达到期望结果 |
| 004      | 进入用户列表 查看所有用户张信息                       | <img src="./assets/image-20241127210221435.png" alt="image-20241127210221435" style="zoom:25%;" /> | 管理员可以查看所有用户的账号信息 | 达到期望结果 |

#### 5.3.3 图书分类测试

| 用例编号 | 操作描述                             | 数据                                                         | 预期结果                                         | 实际结果     |
| -------- | ------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------ | ------------ |
| 001      | 管理员添加新图书分类，填写所有必填项 | ![](./assets/image-20241127203244161.png)                    | 添加成功，图书分类信息出现在图书分类列表中       | 达到期望结果 |
| 002      | 管理员编辑已有图书分类               | ![](./assets/image-20241127203330826.png)                    | 修改成功，图书分类信息得到更新                   | 达到期望结果 |
| 003      | 管理员删除图书分类                   | ![](./assets/image-20241127203353459.png)                    | 分类被成功删除，分类列表中不再显示该图书分类信息 | 达到期望结果 |
| 004      | 读者查看所有图书分类                 | <img src="./assets/image-20241127210054565.png" alt="image-20241127210054565" style="zoom:25%;" /> | 读者可以查查看所有图书分类                       | 达到期望结果 |

#### 5.3.4 图书标签测试

| 用例编号 | 操作描述                             | 数据                                                         | 预期结果                                         | 实际结果     |
| -------- | ------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------ | ------------ |
| 001      | 管理员添加新图书标签，填写所有必填项 | ![](./assets/image-20241127203449806.png)                    | 添加成功，图书标签信息出现在图书标签列表中       | 达到期望结果 |
| 002      | 管理员编辑已有图书标签               | ![](./assets/image-20241127203525866.png)                    | 修改成功，图书标签信息得到更新                   | 达到期望结果 |
| 003      | 管理员删除图书标签                   | ![](./assets/image-20241127204141707.png)                    | 标签被成功删除，标签列表中不再显示该图书标签信息 | 达到期望结果 |
| 004      | 读者查看图书标签列表                 | <img src="./assets/image-20241127205903361.png" alt="image-20241127205903361" style="zoom:25%;" /> | 读者可以看到所有的标签信息                       | 达到期望结果 |

#### 5.3.5 图书信息管理测试

| 用例编号 | 操作描述                         | 数据                                                         | 预期结果                                 | 实际结果     |
| -------- | -------------------------------- | ------------------------------------------------------------ | ---------------------------------------- | ------------ |
| 001      | 管理员添加新图书，填写所有必填项 | <img src="./assets/image-20241127202813595.png" style="zoom:33%;" /> | 添加成功，图书信息出现在图书列表中       | 达到预期结果 |
| 002      | 管理员编辑已有图书信息           | <img src="./assets/image-20241127203712133.png" style="zoom:33%;" /> | 修改成功，图书信息得到更新               | 达到预期结果 |
| 003      | 管理员删除图书                   | <img src="./assets/image-20241127203845391.png" alt="image-20241127203845391" style="zoom:50%;" /> | 图书被成功删除，列表中不再显示该图书信息 | 达到预期结果 |

#### 5.3.6 图书搜索测试

| 用例编号 | 操作描述                           | 数据                                                         | 预期结果                 | 实际结果     |
| -------- | ---------------------------------- | ------------------------------------------------------------ | ------------------------ | ------------ |
| 001      | 用户按书名搜索图书（支持模糊搜索） | <img src="./assets/image-20241127204435864.png" style="zoom: 25%;" /> | 显示匹配书名的图书信息   | 达到预期结果 |
| 002      | 用户按 ISBN 搜索图书（精确搜索）   | <img src="./assets/image-20241127204704909.png" alt="image-20241127204704909" style="zoom:25%;" /> | 显示匹配 ISBN 的图书信息 | 达到预期结果 |
| 003      | 用户按作者进行搜索（支持模糊搜索） | <img src="./assets/image-20241127204750339.png" alt="image-20241127204750339" style="zoom:25%;" /> | 显示匹配作者的所有图书   | 达到预期结果 |
| 004      | 用户按书名、作者、 ISBN组合搜索    | <img src="./assets/image-20241127204910389.png" alt="image-20241127204910389" style="zoom:25%;" /> | 显示匹配的所有图书       | 达到预期结果 |

#### 5.3.7 留言板功能测试

| 用例编号 | 操作描述                 | 数据                                                         | 预期结果                         | 实际结果     |
| -------- | ------------------------ | ------------------------------------------------------------ | -------------------------------- | ------------ |
| 001      | 用户在读者留言页发布留言 | <img src="./assets/image-20241127205011135.png" alt="image-20241127205011135" style="zoom: 33%;" /> | 留言成功，留言显示在留言板上     | 达到预期结果 |
| 002      | 用户对其他留言进行回复   | <img src="./assets/image-20241127205110159.png" alt="image-20241127205110159" style="zoom:33%;" /> | 回复成功，回复显示在对应留言下方 | 达到预期结果 |
| 003      | 用户删除自己的留言       | <img src="./assets/image-20241127205208784.png" alt="image-20241127205208784" style="zoom:33%;" /> | 删除成功，留言不再显示           | 达到预期结果 |

#### 5.3.8 系统公告管理测试

| 用例编号 | 操作描述               | 数据                                                         | 预期结果                       | 实际结果     |
| -------- | ---------------------- | ------------------------------------------------------------ | ------------------------------ | ------------ |
| 001      | 管理员发布新的系统公告 | <img src="./assets/image-20241127205410930.png" alt="image-20241127205410930" style="zoom:25%;" /> | 发布成功，公告显示在公告列表中 | 达到预期结果 |
| 002      | 管理员更改系统公告     | <img src="./assets/image-20241127205549078.png" style="zoom:25%;" /> | 更改成功，公告显示在公告列表中 | 达到预期结果 |
| 003      | 管理员删除系统公告     | <img src="./assets/image-20241127205611898.png" alt="image-20241127205611898" style="zoom:33%;" /> | 删除成功，公告不再显示         | 达到预期结果 |
| 004      | 用户查看系统公告       | <img src="./assets/image-20241127205735287.png" alt="image-20241127205735287" style="zoom:25%;" /> | 用户可以看到所有系统公告内容   | 达到预期结果 |

